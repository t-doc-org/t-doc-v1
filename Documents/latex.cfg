\Preamble{xhtml}

\Configure{@HEAD}{%
\HCode{%
<link type="text/css" rel="stylesheet" href="/static/ds_stylesheet.css" />\Hnewline
}
}

\makeatletter
\ExplSyntaxOn
\Configure{Gin-dim}{style="width:\fp_eval:n{round(\Gin@req@width/\textwidth*100,2)}\char_generate:nn { `\% } { 12 }"}
\ExplSyntaxOff
\makeatother

\renewcommand\video[2][50]{%
\HCode{%
<iframe class="td_video" width="#1&percnt;" height="#1&percnt;" src="https://www.youtube.com/embed/#2" title="YouTube video player" frameborder="0" allow="accelerometer; fullscreen; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
}
}

\renewcommand\geogebra[2][100]{%
\HCode{%
<iframe class="td_geogebra" width="#1&percnt;" height="#1&percnt;" src="https://www.geogebra.org/classic/#2" title="YouTube video player" frameborder="0" allow="accelerometer; fullscreen; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
}
}


%\makeatletter
%\RenewEnviron{lstlisting}{%
%\HCode{%
%<pre>\unexpanded\expandafter{\BODY}</pre>
%}
%}
%\makeatother


\begin{document}
\EndPreamble
