\Preamble{xhtml}

\makeatletter
\ExplSyntaxOn
\Configure{Gin-dim}{style="width:\fp_eval:n{round(\Gin@req@width/\textwidth*100,2)}\char_generate:nn { `\% } { 12 }"}
\ExplSyntaxOff
\makeatother

\renewcommand\video[3]{%
\HCode{%
<iframe width="#2" height="#3" src="https://www.youtube.com/embed/#1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
}
}

\renewcommand\geogebra[3]{%
\HCode{%
<iframe width="#2" height="#3" src="https://www.geogebra.org/classic/#1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
}
}


%\makeatletter
%\RenewEnviron{lstlisting}{%
%\HCode{%
%<pre>\unexpanded\expandafter{\BODY}</pre>
%}
%}
%\makeatother


\begin{document}
\EndPreamble
